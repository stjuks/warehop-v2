{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///./src/util.ts","webpack:///./src/Popover.tsx","webpack:///external \"react-dom\"","webpack:///./src/ArrowContainer.tsx"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","Constants","POPOVER_CONTAINER_CLASS_NAME","DEFAULT_PADDING","DEFAULT_WINDOW_PADDING","FADE_TRANSITION","DEFAULT_ARROW_COLOR","DEFAULT_POSITIONS","EMPTY_CLIENT_RECT","top","left","bottom","height","right","width","arrayUnique","array","filter","index","self","indexOf","React","react_dom_1","util_1","ArrowContainer_1","ArrowContainer","Popover","_super","_this","apply","this","arguments","target","targetRect","targetPositionIntervalHandler","popoverDiv","positionOrder","willUnmount","willMount","onResize","e","renderPopover","onClick","_a","props","onClickOutside","isOpen","contains","__extends","componentDidMount","setTimeout","position","findDOMNode","getPositionPriorityOrder","updatePopover","componentDidUpdate","prevProps","prevIsOpen","prevPosition","prevBody","content","hasNewDestination","contentDestination","removePopover","remove","componentWillMount","componentWillUnmount","render","children","parentNode","transitionDuration","createContainer","style","opacity","transition","document","body","appendChild","addEventListener","positionIndex","length","renderWithPosition","getBoundingClientRect","violation","rect","_b","disableReposition","contentLocation","_c","contentLocation_1","align","_d","getNudgedPopoverPosition","nudgedTop","nudgedLeft","rectTop","rectLeft","_e","top_1","popoverRect","toFixed","destinationTopOffset","destinationLeftOffset","destRect","_f","pageYOffset","pageXOffset","finalLeft","finalTop","startTargetPositionListener","checkInterval","setInterval","newTargetRect","targetPositionHasChanged","callback","args","padding","windowBorderPadding","unstable_renderSubtreeIntoContainer","getLocationForPosition","innerWidth","innerHeight","clearInterval","removeEventListener","removeChild","every","defaultPosition","undefined","find","remainingPositions","concat","containerStyle","containerClassName","container","createElement","overflow","keys","forEach","className","targetMidX","targetMidY","oldTargetRect","defaultProps","Component","default","arrowColor","arrowSize","arrowStyle","__assign","paddingLeft","paddingTop","paddingBottom","paddingRight","arrowWidth","borderTop","borderBottom","borderRight","borderLeft"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = require(\"react\");","import { Position } from './index';\n\nexport const Constants = {\n    POPOVER_CONTAINER_CLASS_NAME: 'react-tiny-popover-container',\n    DEFAULT_PADDING: 6,\n    DEFAULT_WINDOW_PADDING: 6,\n    FADE_TRANSITION: 0.35,\n    DEFAULT_ARROW_COLOR: 'black',\n    DEFAULT_POSITIONS: ['top', 'left', 'right', 'bottom'] as Position[],\n    EMPTY_CLIENT_RECT: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        height: 0,\n        right: 0,\n        width: 0,\n    } as ClientRect,\n};\n\nexport const arrayUnique = <T>(array: T[]): T[] => array.filter((value: any, index: number, self: T[]) => self.indexOf(value) === index);\n","import * as React from 'react';\nimport { findDOMNode, unstable_renderSubtreeIntoContainer } from 'react-dom';\nimport { Constants, arrayUnique } from './util';\nimport { ArrowContainer } from './ArrowContainer';\nimport { PopoverProps, ContentRenderer, ContentRendererArgs, Position, Align, ContentLocation } from './index';\n\nclass Popover extends React.Component<PopoverProps, {}> {\n    private target: Element = null;\n    private targetRect: ClientRect = null;\n    private targetPositionIntervalHandler: number = null;\n    private popoverDiv: HTMLDivElement = null;\n    private positionOrder: Position[] = null;\n    private willUnmount = false;\n    private willMount = false;\n\n    public static defaultProps: Partial<PopoverProps> = {\n        padding: Constants.DEFAULT_PADDING,\n        windowBorderPadding: Constants.DEFAULT_WINDOW_PADDING,\n        position: ['top', 'right', 'left', 'bottom'],\n        align: 'center',\n        containerClassName: Constants.POPOVER_CONTAINER_CLASS_NAME,\n    };\n\n    public componentDidMount() {\n        window.setTimeout(() => this.willMount = false);\n        const { position, isOpen } = this.props;\n        this.target = findDOMNode(this) as Element;\n        this.positionOrder = this.getPositionPriorityOrder(position);\n        this.updatePopover(isOpen);\n    }\n\n    public componentDidUpdate(prevProps: PopoverProps) {\n        if (this.target == null) { this.target = findDOMNode(this) as Element; }\n\n        const { isOpen: prevIsOpen, position: prevPosition, content: prevBody } = prevProps;\n        const { isOpen, content, position } = this.props;\n\n        this.positionOrder = this.getPositionPriorityOrder(this.props.position);\n\n        const hasNewDestination = prevProps.contentDestination !== this.props.contentDestination;\n\n        if (\n            prevIsOpen !== isOpen || \n            prevBody !== content || \n            prevPosition !== position || \n            hasNewDestination\n        ) {\n            if (hasNewDestination) {\n                this.removePopover();\n                this.popoverDiv.remove();\n            }\n\n            this.updatePopover(isOpen);\n        }\n    }\n\n    public componentWillMount() {\n        this.willUnmount = false;\n        this.willMount = true;\n    }\n\n    public componentWillUnmount() {\n        this.willUnmount = true;\n        this.removePopover();\n    }\n\n    public render() {\n        return this.props.children;\n    }\n\n    private updatePopover(isOpen: boolean) {\n        if (isOpen && this.target != null) {\n            if (!this.popoverDiv || !this.popoverDiv.parentNode) {\n                const { transitionDuration } = this.props;\n                this.popoverDiv = this.createContainer();\n                this.popoverDiv.style.opacity = '0';\n                this.popoverDiv.style.transition = `opacity ${transitionDuration || Constants.FADE_TRANSITION}s`;\n                (this.props.contentDestination || window.document.body).appendChild(this.popoverDiv);\n                window.addEventListener('resize', this.onResize);\n                window.addEventListener('click', this.onClick);\n            }\n            this.renderPopover();\n        } else if (this.popoverDiv && this.popoverDiv.parentNode) {\n            this.removePopover();\n        }\n    }\n\n    private renderPopover(positionIndex: number = 0) {\n        if (positionIndex >= this.positionOrder.length) {\n            this.removePopover();\n            return;\n        }\n\n        this.renderWithPosition({ position: this.positionOrder[positionIndex], targetRect: this.target.getBoundingClientRect() }, (violation, rect) => {\n            const { disableReposition, contentLocation } = this.props;\n\n            if (violation && !disableReposition && !(typeof contentLocation === 'object')) {\n                this.renderPopover(positionIndex + 1);\n            } else {\n                const { contentLocation, align } = this.props;\n                const { top: nudgedTop, left: nudgedLeft } = this.getNudgedPopoverPosition(rect);\n                const { top: rectTop, left: rectLeft } = rect;\n                const position = this.positionOrder[positionIndex];\n                let { top, left } = disableReposition ? { top: rectTop, left: rectLeft } : { top: nudgedTop, left: nudgedLeft };\n                \n                if (contentLocation) {\n                    const targetRect = this.target.getBoundingClientRect();\n                    const popoverRect = this.popoverDiv.getBoundingClientRect();\n                    ({ top, left } = typeof contentLocation === 'function' ? contentLocation({ targetRect, popoverRect, position, align, nudgedLeft, nudgedTop }) : contentLocation);\n                    this.popoverDiv.style.left = `${left.toFixed()}px`;\n                    this.popoverDiv.style.top = `${top.toFixed()}px`;\n                } else {\n                    let destinationTopOffset = 0;\n                    let destinationLeftOffset = 0;\n                    \n                    if (this.props.contentDestination) {\n                        const destRect = this.props.contentDestination.getBoundingClientRect();\n                        destinationTopOffset = -destRect.top;\n                        destinationLeftOffset = -destRect.left;\n                    }\n\n                    const [absoluteTop, absoluteLeft] = [top + window.pageYOffset, left + window.pageXOffset];\n                    const finalLeft = absoluteLeft + destinationTopOffset;\n                    const finalTop = absoluteTop + destinationLeftOffset;\n\n                    this.popoverDiv.style.left = `${finalLeft.toFixed()}px`;\n                    this.popoverDiv.style.top = `${finalTop.toFixed()}px`;\n                }\n\n                this.popoverDiv.style.width = null;\n                this.popoverDiv.style.height = null;\n\n                this.renderWithPosition({\n                    position,\n                    nudgedTop: nudgedTop - rect.top,\n                    nudgedLeft: nudgedLeft - rect.left,\n                    targetRect: this.target.getBoundingClientRect(),\n                    popoverRect: this.popoverDiv.getBoundingClientRect(),\n                }, () => {\n                    this.startTargetPositionListener(10);\n                    if (this.popoverDiv.style.opacity !== '1') {\n                        this.popoverDiv.style.opacity = '1';\n                    }\n                });\n            }\n        });\n    }\n\n    private startTargetPositionListener(checkInterval: number) {\n        if (this.targetPositionIntervalHandler === null) {\n            this.targetPositionIntervalHandler = window.setInterval(() => {\n                const newTargetRect = this.target.getBoundingClientRect();\n                if (this.targetPositionHasChanged(this.targetRect, newTargetRect)) {\n                    this.renderPopover();\n                }\n                this.targetRect = newTargetRect;\n            }, checkInterval);\n        }\n    }\n\n    private renderWithPosition(\n        { position, nudgedLeft = 0, nudgedTop = 0, targetRect = Constants.EMPTY_CLIENT_RECT, popoverRect = Constants.EMPTY_CLIENT_RECT }: Partial<ContentRendererArgs>,\n        callback?: (boundaryViolation: boolean, resultingRect: Partial<ClientRect>) => void,\n    ) {\n        const { windowBorderPadding: padding, content, align } = this.props;\n        const getContent = (args: ContentRendererArgs): JSX.Element =>\n            typeof content === 'function'\n                ? content(args)\n                : content;\n\n        unstable_renderSubtreeIntoContainer(this, getContent({ position, nudgedLeft, nudgedTop, targetRect, popoverRect, align }), this.popoverDiv, () => {\n            if (this.willUnmount) {\n                return;\n            }\n            const targetRect = this.target.getBoundingClientRect();\n            const popoverRect = this.popoverDiv.getBoundingClientRect();\n            const { top, left } = this.getLocationForPosition(position, targetRect, popoverRect);\n            callback(\n                position === 'top' && top < padding ||\n                position === 'left' && left < padding ||\n                position === 'right' && left + popoverRect.width > window.innerWidth - padding ||\n                position === 'bottom' && top + popoverRect.height > window.innerHeight - padding,\n                { width: popoverRect.width, height: popoverRect.height, top, left },\n            );\n        });\n    }\n\n    private getNudgedPopoverPosition({ top, left, width, height }: Partial<ClientRect>): ContentLocation {\n        const { windowBorderPadding: padding } = this.props;\n\n        \n        top = top < padding ? padding : top;\n        top = top + height > window.innerHeight - padding ? window.innerHeight - padding - height : top;\n        left = left < padding ? padding : left;\n        left = left + width > window.innerWidth - padding ? window.innerWidth - padding - width : left;\n        return { top, left };\n    }\n\n    private removePopover() {\n        if (this.popoverDiv) {\n            const { transitionDuration } = this.props;\n            this.popoverDiv.style.opacity = '0';\n            const remove = () => {\n                if (this.willUnmount || !this.props.isOpen || !this.popoverDiv.parentNode) {\n                    window.clearInterval(this.targetPositionIntervalHandler);\n                    window.removeEventListener('resize', this.onResize);\n                    window.removeEventListener('click', this.onClick);\n                    this.targetPositionIntervalHandler = null;\n                    if (this.popoverDiv.parentNode) {\n                        this.popoverDiv.parentNode.removeChild(this.popoverDiv);\n                    }\n                }\n            };\n            if (!this.willUnmount) {\n                window.setTimeout(remove, (transitionDuration || Constants.FADE_TRANSITION) * 1000);\n            } else {\n                remove();\n            }\n        }\n    }\n\n    private onResize = (e: any) => {\n        this.renderPopover();\n    }\n\n    private onClick = (e: MouseEvent) => {\n        const { onClickOutside, isOpen } = this.props;\n        if (!this.willUnmount && !this.willMount && !this.popoverDiv.contains(e.target as Node) && !this.target.contains(e.target as Node) && onClickOutside && isOpen) {\n            onClickOutside(e);\n        }\n    }\n\n    private getPositionPriorityOrder(position: Position | Position[]): Position[] {\n        if (position && typeof position !== 'string') {\n            if (Constants.DEFAULT_POSITIONS.every(defaultPosition => position.find(p => p === defaultPosition) !== undefined)) {\n                return arrayUnique(position);\n            } else {\n                const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => position.find(p => p === defaultPosition) === undefined);\n                return arrayUnique([...position, ...remainingPositions]);\n            }\n        } else if (position && typeof position === 'string') {\n            const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => defaultPosition !== position);\n            return arrayUnique([position, ...remainingPositions]);\n        }\n    }\n\n    private createContainer(): HTMLDivElement {\n        const { containerStyle, containerClassName } = this.props;\n        const container = window.document.createElement('div');\n\n        container.style.overflow = 'hidden';\n\n        if (containerStyle) {\n            Object.keys(containerStyle).forEach(key => container.style[key as any] = (containerStyle as CSSStyleDeclaration)[key as any]);\n        }\n\n        container.className = containerClassName;\n        container.style.position = 'absolute';\n        container.style.top = '0';\n        container.style.left = '0';\n\n        return container;\n    }\n\n    private getLocationForPosition(position: Position, newTargetRect: ClientRect, popoverRect: ClientRect): ContentLocation {\n        const { padding, align } = this.props;\n        const targetMidX = newTargetRect.left + (newTargetRect.width / 2);\n        const targetMidY = newTargetRect.top + (newTargetRect.height / 2);\n        let top: number;\n        let left: number;\n\n        switch (position) {\n            case 'top':\n                top = newTargetRect.top - popoverRect.height - padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'left':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.left - padding - popoverRect.width;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n            case 'bottom':\n                top = newTargetRect.bottom + padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'right':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.right + padding;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n        }\n\n        return { top, left };\n    }\n\n    private targetPositionHasChanged(oldTargetRect: ClientRect, newTargetRect: ClientRect): boolean { // could move to a utilities file, along with some others potentially\n        return oldTargetRect === null\n            || oldTargetRect.left !== newTargetRect.left\n            || oldTargetRect.top !== newTargetRect.top\n            || oldTargetRect.width !== newTargetRect.width\n            || oldTargetRect.height !== newTargetRect.height;\n    }\n}\n\nexport { ArrowContainer };\nexport default Popover;\n","module.exports = require(\"react-dom\");","import * as React from 'react';\nimport { ArrowContainerProps } from './index';\nimport { Constants } from './util';\n\nconst ArrowContainer: React.StatelessComponent<ArrowContainerProps> = ({\n    position,\n    children,\n    style,\n    arrowColor = Constants.DEFAULT_ARROW_COLOR,\n    arrowSize = 10,\n    arrowStyle,\n    popoverRect,\n    targetRect,\n}) => (\n        <div\n            style={{\n                paddingLeft: position === 'right' ? arrowSize : 0,\n                paddingTop: position === 'bottom' ? arrowSize : 0,\n                paddingBottom: position === 'top' ? arrowSize : 0,\n                paddingRight: position === 'left' ? arrowSize : 0,\n                ...style,\n            }}\n        >\n            <div\n                style={{\n                    position: 'absolute',\n                    ...((): React.CSSProperties => {\n                        const arrowWidth = arrowSize * 2;\n                        let top = (targetRect.top - popoverRect.top) + (targetRect.height / 2) - (arrowWidth / 2);\n                        let left = (targetRect.left - popoverRect.left) + (targetRect.width / 2) - (arrowWidth / 2);\n                        left = left < 0 ? 0 : left;\n                        left = left + arrowWidth > popoverRect.width ? popoverRect.width - arrowWidth : left;\n                        top = top < 0 ? 0 : top;\n                        top = top + arrowWidth > popoverRect.height ? popoverRect.height - arrowWidth : top;\n                        switch (position) {\n                            case 'right':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid ${arrowColor}`,\n                                    left: 0,\n                                    top,\n                                };\n                            case 'left':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderLeft: `${arrowSize}px solid ${arrowColor}`,\n                                    right: 0,\n                                    top,\n                                };\n                            case 'bottom':\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid ${arrowColor}`,\n                                    top: 0,\n                                    left,\n                                };\n                            case 'top':\n                            default:\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderTop: `${arrowSize}px solid ${arrowColor}`,\n                                    bottom: 0,\n                                    left,\n                                };\n                        }\n                    })(),\n                    ...arrowStyle,\n                }}\n            />\n            {children}\n        </div>\n    );\n\nexport { ArrowContainer };\n"],"sourceRoot":""}